{"version":3,"sources":["apps/GameApp/contexts/GameContext.jsx","apps/RulesApp/data/core-rules.js","apps/RulesApp/components/Menu.jsx","apps/RulesApp/index.jsx","apps/GameApp/data/common.jsx","apps/GameApp/data/missions.jsx","apps/GameApp/components/ChooseMission.jsx","apps/GameApp/components/GameSetup.jsx","apps/GameApp/components/PlayerScore.jsx","apps/GameApp/components/MakeWar.jsx","apps/GameApp/components/PlayerSetup.jsx","apps/GameApp/data/secondaries.jsx","apps/GameApp/components/Secondaries.jsx","apps/GameApp/index.jsx","App.js","serviceWorker.js","index.js"],"names":["GameStateContext","React","createContext","gameState","setGameState","GameContextProvider","children","defaultGameState","players","name","faction","useLocalStorageState","Provider","value","resetGameState","useGameContext","useContext","Rule","styled","span","Keyword","TableTitle","div","Table","table","TableHead","thead","TableBody","tbody","Red","DiceResult","text","tags","level","style","textAlign","MenuItem","id","label","subMenus","selected","setMenu","toggleMenuItem","event","stopPropagation","prev","updateMenus","menus","forceSelect","forceUnselect","map","menu","onClick","type","checked","onChange","length","sm","key","Menu","isOpen","onClose","useState","menuState","useEffect","StyledRoot","cursor","fontSize","item","debouncedResetScroll","debounce","window","scrollTo","Rules","nodes","node","idx","headings","1","h1","2","h2","3","h3","4","h4","5","h5","6","h6","Node","updateBreadcrumb","actualLevel","advanced","some","t","Heading","title","className","every","c","i","Container","Header","SearchInput","input","MenuContainer","RulesApp","dataSource","useMemo","coreRules","tyranidsFaq","bloodOfBaalFaq","tauFaq","theGreaterGoodFaq","thousandSonsFaq","ritualOfTheDamnedFaq","necronsFaq","factions","setFactions","menuOpen","setMenuOpen","filtered","setFiltered","query","setQuery","handleMenuClose","useCallback","debouncedApplyFilter","filter","toLowerCase","console","log","applyFilter","parentMatches","queryMatch","ReactDOMServer","renderToString","includes","filterMatch","match","n","handlMenuChange","menuToFactions","flat","padding","e","target","BATTLE_SIZES","COMBAT_PATROL","pts","CP","board","GAME_MODES","MATCHED_PLAY","CRUSADE","OPEN_PLAY","SECONDARY_CATEGORIES","MISSION_SPECIFIC","PURGE_THE_ENNEMY","NO_MERCY_NO_RESPITE","BATTLEFIELD_SUPREMACY","SHADOW_OPERATIONS","WARPCRAFT","MISSIONS","mode","size","source","briefing","rules","description","primary_objectives","secondary_objectives","category","points","deployment","ChooseMission","next","setMode","setSize","find","m","mission","setMission","Box","display","flexDirection","FormControl","variant","InputLabel","Select","labelId","Object","values","v","keys","o","alt","src","process","width","Button","color","GameSetup","primaryObjectivesMarks","PlayerScore","primaryScores","setPrimaryScores","player","secondaryScores","setSecondaryScores","innerWidth","Array","from","_","k","alignItems","Typography","p","flex","Slider","max","defaultValue","aria-labelledby","step","valueLabelDisplay","marks","secondaries","s","MakeWar","player1","player2","drawersState","setDrawersState","toggleDrawer","anchor","open","SwipeableDrawer","onOpen","PlayerSetup","setName","setFaction","TextField","placeholder","f","updated","SECONDARIES","Secondaries","selectedCategories","allSecondaries","availableSecondaries","group","playerName","playerSelected","toggleSecondary","unselectSecondary","selectSecondary","background","GameApp","useRouteMatch","location","useLocation","history","useHistory","steps","replace","path","pathname","indexOf","push","maxWidth","mb","position","bottom","left","right","justifyContent","App","basename","to","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.7d235038.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\nimport useLocalStorageState from \"use-local-storage-state\";\n\nconst GameStateContext = React.createContext({\n  gameState: null,\n  setGameState: () => {},\n});\n\nexport const GameContextProvider = ({ children }) => {\n  const defaultGameState = {\n    players: [\n      {\n        name: \"\",\n        faction: \"\",\n      },\n      {\n        name: \"\",\n        faction: \"\",\n      },\n    ],\n  };\n  const [gameState, setGameState] = useLocalStorageState(\n    \"gameState\",\n    defaultGameState\n  );\n\n  const resetGameState = () => {\n    setGameState(defaultGameState);\n  };\n\n  return (\n    <GameStateContext.Provider\n      value={{ gameState, setGameState, resetGameState }}\n    >\n      {children}\n    </GameStateContext.Provider>\n  );\n};\n\nexport const useGameContext = () => useContext(GameStateContext);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\n// https://regexr.com/59581\n// regex: \\s?([^\\n\\r]*)\n// list: {text:<>$1\",tags:['main'],children:[],},\\n\n\nconst Rule = styled.span`\n  font-weight: bold;\n`;\n\nconst Keyword = styled.span`\n  font-weight: 700;\n  font-variant: small-caps;\n  font-size: 21px;\n  letter-spacing: 1px;\n`;\n\nconst TableTitle = styled.div`\n  text-transform: uppercase;\n  background: #120e0d;\n  color: #e7e7e5;\n  padding: 4px 8px;\n  font-size: 19px;\n  font-weight: 700;\n`;\n\nconst Table = styled.table`\n  border: 1px solid #120e0d;\n  width: 100%;\n  margin-bottom: 12px;\n  border-spacing: 0;\n  & th,\n  & td {\n    padding: 6px;\n  }\n`;\n\nconst TableHead = styled.thead`\n  background: #cdd2ce;\n  outline: 1px solid #120e0d;\n  & th {\n    font-size: 18px;\n  }\n`;\n\nconst TableBody = styled.tbody`\n  & tr:nth-child(even) {\n    background: #cdd2ce;\n  }\n  & tr:nth-child(odd) {\n    background: #eae9e6;\n  }\n`;\n\nconst Red = styled.span`\n  color: #9f191e;\n  font-weight: 700;\n`;\n\nconst DiceResult = styled.div`\n  font-weight: 700;\n  font-size: 18px;\n  text-align: center;\n`;\n\nexport default {\n  text: null,\n  tags: [\"core\"],\n  children: [\n    {\n      text: <>Basic Rules V1.1</>,\n      level: 1,\n      tags: [\"core\"],\n      children: [\n        {\n          text: <>Army</>,\n          level: 3,\n          tags: [\"core\"],\n          children: [\n            {\n              text: null,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Rule>Army:</Rule> Collection of models under your\n                      command.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Keywords</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Rule>Keywords:</Rule> Appear in rules in{\" \"}\n                      <Keyword>Keyword Bold</Keyword> font.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Keyworded rules apply to units and models with that\n                      keyword\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      <Keyword>{\"<Keywords>\"}</Keyword> are chosen by you when a\n                      unit is added to your army.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Units</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Rule>Unit:</Rule> A group of models from the same\n                      datasheet.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Friendly models = all models in the same army.</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Enemy models = all models in your opponent's army</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Enemy units = all units in opponent’s army</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Unit Coherency</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Rule>Unit coherency:</Rule> 2\" horizontally + 5\"\n                      vertically.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Each model must be in unit coherency with one other model\n                      from own unit.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      While unit has 6+ models, each model must be in unit\n                      coherency with 2 other models from own unit\n                    </>\n                  ),\n                  tags: [\"core\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Engagement Range</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Rule>Engagement Range:</Rule> 1\" horizontally + 5\"\n                      vertically\n                    </>\n                  ),\n                  tags: [\"core\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Models cannot be set up within Engagement Range of enemy\n                      models.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          text: <>Measuring Distances</>,\n          level: 3,\n          tags: [\"core\"],\n          children: [\n            {\n              text: null,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: <>Distances measured in inches (\").</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Always measure closest distance between bases(or hulls).\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>Hull = Any part of a model that does not have a base.</>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Can measure distances whenever you want.</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      If several units tied for closest, player resolving the\n                      rule selects which is closest.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Within and Wholly Within</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: <>Model within = any part of model’s base (or hull).</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Model wholly within = every part of model’s base (or\n                      hull).\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Unit within = any model within.</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Unit wholly within = every model wholly within</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          text: <>Dice</>,\n          level: 3,\n          tags: [\"core\"],\n          children: [\n            {\n              text: null,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: <>D6 = A six-sided dice.</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>D3 = D6 divided by 2 (rounding up).</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>All modifiers cumulative.</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Apply modifiers in the following order:\n                      division,multiplication, addition, then subtraction.\n                    </>\n                  ),\n                  tags: [\"core\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Round fractions up after all modifiers have been\n                      applied.Dice roll cannot be modified to less than 1.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Re-Rolls</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Rule>Re-roll:</Rule> Roll dice again.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Re-rolls are applied before modifiers (if any).</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>A dice can never be re-rolled more than once.</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      <Rule>Unmodified dice:</Rule> Result of roll after\n                      re-rolls, but before modifiers (if any).\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Roll-Offs</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Rule>Roll-off:</Rule> Both players roll a D6 – highest\n                      wins.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Roll again if a tie.</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Sequencing</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      If several rules must be resolved at the same time, the\n                      player whose turn it is chooses the order to resolve them.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Starting Strength, Half-Strength and Destroyed Units</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Rule>Starting Strength:</Rule> Number of models in unit\n                      when it is added to your army.\n                    </>\n                  ),\n                  tags: [\"core\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      When a model is destroyed, remove it from the battlefield.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      <Rule>Below Half-strength:</Rule> Number of models in unit\n                      is less than half its Starting Strength.\n                    </>\n                  ),\n                  tags: [\"core\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      When the last model in a unit is destroyed, the unit is\n                      said to be destroyed.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n    {\n      text: <>Datasheet</>,\n      level: 2,\n      tags: [\"core\"],\n      children: [\n        {\n          text: <>Damage Tables</>,\n          level: 4,\n          tags: [\"core\"],\n          children: [\n            {\n              text: (\n                <>\n                  <Rule>Damage table:</Rule> Model’s characteristics change as\n                  it loses wounds.\n                </>\n              ),\n              tags: [\"core\"],\n              children: [],\n            },\n          ],\n        },\n        {\n          text: <>Modifying Characteristics</>,\n          level: 4,\n          tags: [\"core\"],\n          children: [\n            {\n              text: <>All characteristic modifiers are cumulative.</>,\n              tags: [\"core\"],\n              children: [],\n            },\n            {\n              text: (\n                <>\n                  Apply modifiers in the following order: division,\n                  multiplication, addition, then subtraction.\n                </>\n              ),\n              tags: [\"core\", \"9th\"],\n              children: [],\n            },\n            {\n              text: <>Round fractions up after applying all modifiers.</>,\n              tags: [\"core\"],\n              children: [],\n            },\n            {\n              text: <>S, T, A and Ld can never be modified below 1.</>,\n              tags: [\"core\"],\n              children: [],\n            },\n            {\n              text: (\n                <>\n                  Random Move characteristics determined for whole unit each\n                  time it moves.\n                </>\n              ),\n              tags: [\"core\"],\n              children: [],\n            },\n            {\n              text: (\n                <>\n                  Other random characteristics determined individually when\n                  characteristic required.\n                </>\n              ),\n              tags: [\"core\"],\n              children: [],\n            },\n            {\n              text: <>Characteristic of ‘-’ can never be modified.</>,\n              tags: [\"core\"],\n              children: [],\n            },\n          ],\n        },\n      ],\n    },\n    {\n      text: <>Stragegic Reserves</>,\n      level: 3,\n      tags: [\"main\", \"9th\"],\n      children: [\n        {\n          text: <>Placing Units into Strategic Reserves</>,\n          level: 4,\n          tags: [\"main\", \"9th\"],\n          children: [],\n        },\n        {\n          text: <>Arriving from Strategic Reserves</>,\n          level: 4,\n          tags: [\"main\", \"9th\"],\n          children: [],\n        },\n        {\n          text: <>Setting up Strategic Reserve Units</>,\n          tags: [\"main\", \"9th\"],\n          children: [],\n        },\n        {\n          text: <>Advanced Rules</>,\n          level: 4,\n          tags: [\"main\", \"advanced\", \"9th\"],\n          children: [\n            {\n              text: <>Aircraft and Strategic Reserves</>,\n              level: 4,\n              tags: [\"main\"],\n              children: [],\n            },\n          ],\n        },\n      ],\n    },\n    {\n      text: <>Actions</>,\n      level: 2,\n      tags: [\"main\", \"9th\"],\n      children: [\n        {\n          text: <>Performing Actions</>,\n          level: 3,\n          tags: [\"main\", \"9th\"],\n          children: [],\n        },\n        {\n          text: <>Performing Psychic Actions</>,\n          level: 3,\n          tags: [\"main\", \"9th\"],\n          children: [],\n        },\n      ],\n    },\n    {\n      text: <>Terrain Features</>,\n      level: 2,\n      tags: [\"main\", \"9th\"],\n      children: [\n        {\n          text: <>Terrain Categories</>,\n          level: 3,\n          tags: [\"main\", \"9th\"],\n          children: [\n            {\n              text: null,\n              level: 4,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Each terrain feature belongs to one of the following\n                      categories: Hills, Obstacles, Area Terrain or Buildings.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Some models can gain the nenefits of cover fom some\n                      Terrain features (see terrain traits).\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Hills</>,\n              level: 4,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Hills are considered to be part of the battlefield rather\n                      than a terrain feature.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>Models move over hils using normal rules for movement.</>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Models use normal rules to determine if a model behind a\n                      hill is visible.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: <>Hill cannot be attacked.</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Obstacles</>,\n              level: 4,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Models move over Obstacles using normal rules for\n                      movement.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Models use normal rules to determine if a model behind an\n                      Obstacle is visible.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: <>Obstacles cannot be attacked.</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      <Keyword>Infantry</Keyword>, <Keyword>Beasts</Keyword> and{\" \"}\n                      <Keyword>Swarm</Keyword> models receive the{\" \"}\n                      <Rule>benefit of cover</Rule> while within 3\", unless a\n                      straight line can be drawn from the attacker to ALL parts\n                      of the target model without it passing over or through\n                      this terrain feature.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Area Terrain</>,\n              level: 4,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: <>Area Terrain has a footprint.</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Footpring = boundary of terrain feature at ground level.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Models move over Area Terrain using normal rules for\n                      movement.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Models use normal rules to determine if a model behind\n                      Area Terrain is visible.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: <>Are Terrain cannot be attacked.</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      <Keyword>Infantry</Keyword>, <Keyword>Beasts</Keyword> and{\" \"}\n                      <Keyword>Swarm</Keyword> models receive the{\" \"}\n                      <Rule>benefits of cover</Rule> while they are within it.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Buildings</>,\n              level: 4,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Buildings are considered to be units, rather than terrain\n                      features.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: <>Models cannot move across Buildings.</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Models use normal rules to determine if a model behind a\n                      building is visible.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: <>Enemy Buildings can be attacked.</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          text: <>Terrain Traits</>,\n          level: 3,\n          tags: [\"main\", \"9th\"],\n          children: [\n            {\n              text: <>Defensible</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Keyword>Infantry</Keyword> units can Hold Steady or Set\n                      to Defend (if no enemy within Engagement Range).\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      <Rule>Hold Steady</Rule>: Overwatch attacks hit on 5+.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      <Rule>Set to Defend:</Rule>: Cannot fire Overwatch but add\n                      1 to hit rolls in next Fight phase.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Defence Line</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Can make a charge move against a unit within 1\" of this\n                      terrain feature.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: <>Can fight if within 2\" of ennemy</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Breachable</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Keyword>Infantry</Keyword>, <Keyword>Beasts</Keyword> and{\" \"}\n                      <Keyword>Swarm</Keyword> can move through walls, girder,\n                      chains and foliage.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Difficult Ground</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Substract 2\" when making a Normal Move, Advance, Fall Back\n                      or Charge move over this terrain feature (unlesss moving\n                      unit can <Keyword>Fly</Keyword>).\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Dense Cover</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Substract 1 from hit rolls made for ranged weapons if at\n                      least 3\" tall and no lines can be drawn without passing\n                      over this terrain feature between attacking model and any\n                      one model in target unit.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Does not apply to models that are only shooting through\n                      their own terrain feature.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      No penalty when shooting at <Keyword>Aircraft</Keyword>{\" \"}\n                      and units with W characteristic of 18+.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Dense Cover terrain imposes a hit penalty whenever it is\n                      between the firing model and its intended target (with the\n                      noted exceptions). It is not required for a unit to be\n                      fulfilling the criteria of ‘gaining the benefits of\n                      cover’, as described for Obstacles and Area Terrain, for\n                      this penalty to hit rolls to apply (but also note that any\n                      rule that ignores the benefits of cover, or that ignores\n                      the benefits of cover that impose a penalty on hit rolls,\n                      would still ignore that penalty).\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Unstable Position</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Models cannot be set up or end a move on top of this\n                      terrain feature.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Exposed Position</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Models do not receive <Rule>benefits of cover</Rule> while\n                      on top of this terrain feature.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Obscuring</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: <>Blocks visibility if at least 5\" tall.</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: <>Models on or within can see and be seen normally.</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      <Keyword>Aircraft</Keyword> and models with W\n                      characteristic of 18+ are visible and can be targeted\n                      through this terrain feature following normal LOS rules.\n                      (the reverse is not true)\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Light Cover</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      +1 to saving throws against ranged weapons for models\n                      receiveing the <Rule>benefits of cover</Rule> from this\n                      terrain feature.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: <>Invulnerable saving throws unaffected.</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Heavy Cover</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      +1 to saving throws against melee weapons for models that\n                      didn't charge this turn and are receiveing the{\" \"}\n                      <Rule>benefits of cover</Rule> from this terrain feature.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: <>Invulnerable saving throws unaffected.</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Scaleable</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Only <Keyword>Infantry</Keyword>,{\" \"}\n                      <Keyword>Beasts</Keyword>, <Keyword>Swarm</Keyword> and{\" \"}\n                      <Keyword>Fly</Keyword> models can be set up or end a move\n                      on top of this terrain feature (exluding ground floor)\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      <Keyword>Infantry</Keyword>, <Keyword>Beasts</Keyword> and{\" \"}\n                      <Keyword>Swarm</Keyword> models can move through the\n                      floors, ceilings and gantries.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Inspiring</>,\n              level: 5,\n              tags: [\"main\", \"9th\"],\n              children: [\n                {\n                  text: <>+1 Ld if wholly within 6\"</>,\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Can be given <Keyword>Keyword(s)</Keyword> in which case\n                      the effect only applies to matching units.\n                    </>\n                  ),\n                  tags: [\"main\", \"9th\"],\n                  children: [],\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n    {\n      text: <>The Battle Round</>,\n      level: 1,\n      tags: [\"core\"],\n      children: [\n        {\n          text: <>Out of Phase Rules</>,\n          level: 4,\n          tags: [\"core\"],\n          children: [\n            {\n              text: (\n                <>\n                  When resolving an out of phase rule, all rules that normally\n                  apply in that phase continue to apply.\n                </>\n              ),\n              tags: [\"core\", \"9th\"],\n              children: [],\n            },\n            {\n              text: (\n                <>\n                  Phase-specific Stratagems cannot be used when resolving out of\n                  phase rules.\n                </>\n              ),\n              tags: [\"core\", \"9th\"],\n              children: [],\n            },\n          ],\n        },\n        {\n          text: <>Command Phase</>,\n          level: 2,\n          tags: [\"core\", \"9th\"],\n          children: [\n            {\n              text: (\n                <>\n                  <Rule>Battle-forged CP bonus</Rule>: Gain 1 CP if army is\n                  Battleforged.\n                </>\n              ),\n              tags: [\"core\", \"9th\"],\n              children: [],\n            },\n            {\n              text: (\n                <>\n                  Resolve any rules that occur in the Command phase. Progress to\n                  the Movement phase (pg 10).\n                </>\n              ),\n              tags: [\"core\", \"9th\"],\n              children: [],\n            },\n            {\n              text: <>Progress to the Movement phase (pg 10).</>,\n              tags: [\"core\", \"9th\"],\n              children: [],\n            },\n          ],\n        },\n        {\n          text: <>Movement Phase</>,\n          level: 2,\n          tags: [\"core\"],\n          children: [\n            {\n              text: null,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      The Movement phase is split into two steps. First you move\n                      your units. Then you can set up Reinforcements that have\n                      not yet arrived.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                { text: <>1. Move Units</>, tags: [\"core\"], children: [] },\n                { text: <>2. Reinforcements</>, tags: [\"core\"], children: [] },\n              ],\n            },\n            {\n              text: <>1. Move Units</>,\n              level: 3,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: null,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: <>Select a unit in your army to move.</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          When a unit moves it can either make a Normal Move,\n                          Advance or Remain Stationary.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Units that are within Engagement Range of any enemy\n                          models can only either Fall Back or Remain Stationary.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: <>Select another unit in your army to move.</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Once all your units have moved, progress to the\n                          Reinforcements step (pg 11).\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Normal Move</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Normal Move:</Rule> Models move up to M\".\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Cannot move within Engagement Range of any enemy\n                          models.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Advance</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Advance:</Rule> Models move up to M+D6\".\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Cannot move within Engagement Range of enemy models.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>Units that Advance cannot shoot or charge this turn</>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Remain Stationary</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Remain Stationary:</Rule> Models cannot move\n                          this phase.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Fall Back</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Fall Back</Rule>: Models move up to M\".\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: <>Units that Fall Back cannot charge this turn.</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Units that Fall Back cannot shoot or manifest psychic\n                          powers this turn unless they are Titanic.\n                        </>\n                      ),\n                      tags: [\"core\", \"9th\"],\n                      children: [],\n                    },\n                  ],\n                },\n              ],\n            },\n            {\n              text: <>2. Reinforcements</>,\n              level: 3,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Rule>Reinforcement unit:</Rule> Unit that starts the\n                      battle in a location other than the battlefield.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Set up your Reinforcement units, one at a time, as\n                      described by the rules that let them start the battle in\n                      locations other than the battlefield.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Reinforcement units cannot make a Normal Move, an Advance,\n                      Fall Back or Remain Stationary this turn.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Reinforcement units always count as having moved this\n                      turn.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Any Reinforcement unit not set up on the battlefield by\n                      the end of the battle counts as destroyed.\n                    </>\n                  ),\n                  tags: [\"core\", \"9th\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Once all your Reinforcement units have been set up,\n                      progress to the Psychic phase (pg 14).\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Advanced Rules</>,\n              level: 4,\n              tags: [\"advanced\", \"core\"],\n              children: [\n                {\n                  text: <>Moving Over Terrain</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Models can move freely over terrain features 1\" or\n                          less in height.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Models cannot move through taller terrain features,\n                          but can climb up and down them.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Flying</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Keyword>Fly</Keyword> models can move over other\n                          models when they make a Normal Move, an Advance or\n                          when they Fall Back.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          <Keyword>Fly</Keyword> models ignore vertical\n                          distances when they make a Normal Move, an Advance or\n                          when they Fall Back.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Transports</>,\n                  level: 3,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: <>Transport Capacity</>,\n                      level: 5,\n                      tags: [\"core\"],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              <Rule>Transport capacity:</Rule> Maximum number of\n                              models that can embark within the{\" \"}\n                              <Keyword>Transport</Keyword>.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              Units can start the battle embarked in a{\" \"}\n                              <Keyword>Transport</Keyword>.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                    {\n                      text: <>Embark</>,\n                      level: 4,\n                      tags: [\"core\"],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              Units can embark in a friendly{\" \"}\n                              <Keyword>Transport</Keyword> if every model ends a\n                              Normal Move, an Advance or a Fall Back within 3\"\n                              of it.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              A unit cannot embark within a{\" \"}\n                              <Keyword>Transport</Keyword> that is within\n                              Engagement Range of any enemy models.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              A unit cannot embark and disembark in the same\n                              phase.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              Units cannot do anything, or be affected in any\n                              way, while they are embarked within a{\" \"}\n                              <Keyword>Transport</Keyword>.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                    {\n                      text: <>Disembark</>,\n                      level: 4,\n                      tags: [\"core\"],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              Units that start their Movement phase embarked in\n                              a <Keyword>Transport</Keyword> can disembark this\n                              phase.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              A unit must disembark before their{\" \"}\n                              <Keyword>Transport</Keyword> moves.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              Disembarking units must be set up wholly within 3\"\n                              of their <Keyword>Transport</Keyword> and not\n                              within Engagement Range of any enemy models.\n                            </>\n                          ),\n                          tags: [\"core\", \"9th\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              Units that have disembarked count as having moved\n                              this turn.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                    {\n                      text: <>Destroyed Transports</>,\n                      level: 4,\n                      tags: [\"core\"],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              If a <Keyword>Transport</Keyword> is destroyed,\n                              resolve its Explodes ability (if it has one).\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>Any units embarked within must then disembark.</>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              Roll one D6 for each model that disembarked; for\n                              each 1, one model is destroyed.\n                            </>\n                          ),\n                          tags: [\"core\", \"9th\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              Units that disembarked cannot charge or perform\n                              Heroic Interventions this turn.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                  ],\n                },\n                {\n                  text: <>Aircraft</>,\n                  level: 3,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: <>Minimum Move</>,\n                      level: 4,\n                      tags: [\"core\"],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              <Rule>Minimum move:</Rule> Models must move at\n                              least their minimum M\".\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              If a model cannot make its minimum move, it is\n                              destroyed (unless you are using Strategic\n                              Reserves).\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                    {\n                      text: <>Aircraft Egagement Range</>,\n                      level: 4,\n                      tags: [\"core\"],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              Models can move within an enemy{\" \"}\n                              <Keyword>Aircraft</Keyword>’s Engagement Range.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              Models can move over <Keyword>Aircraft</Keyword>{\" \"}\n                              (and their bases) when they make any kind of move.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              <Keyword>Aircraft</Keyword> can make a Normal Move\n                              or an Advance even when within Engagement Range of\n                              enemy models.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              Units can make a Normal Move or an Advance if they\n                              are only within Engagement Range of enemy{\" \"}\n                              <Keyword>Aircraft</Keyword>\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                    {\n                      text: (\n                        <>\n                          Heroic Interventations, Pile Ins, Consolidations and\n                          Aircrafts\n                        </>\n                      ),\n                      level: 4,\n                      tags: [\"core\"],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              When a model performs a Heroic Intervention, piles\n                              in or consolidates, ignore{\" \"}\n                              <Keyword>Aircraft</Keyword> (unless the model\n                              moving can <Keyword>Fly</Keyword>).\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          text: <>Psychic Phase</>,\n          level: 2,\n          tags: [\"core\"],\n          children: [\n            {\n              text: null,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Select a <Keyword>Psyker</Keyword> in your army to\n                      manifest its psychic powers.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Select another <Keyword>Psyker</Keyword> in your army to\n                      manifest its psychic powers.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Once all your <Keyword>Psykers</Keyword> have manifested\n                      psychic powers, progress to the Shooting phase (pg 15).\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Psychic Powers</>,\n              level: 3,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: null,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          All <Keyword>Psykers</Keyword> know Smite.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          <Keyword>Psykers</Keyword> will know additional\n                          psychic powers, as described on their datasheets.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Manifesting Psychic Powers</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: <>Select psychic power.</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          You cannot select the same psychic power more than\n                          once per battle round, unless that power is Smite.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Attempt to manifest the psychic power by taking a\n                          Psychic test.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          The opponent can attempt to deny the psychic power by\n                          taking a Deny the Witch test.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          If successfully manifested, resolve the psychic\n                          power’s effects.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: <>Select another psychic power.</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Psychic Tests</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Psychic test:</Rule> Passed if 2D6 equals or\n                          exceeds psychic power’s warp charge.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          If double 1 or double 6 rolled,{\" \"}\n                          <Keyword>Psyker</Keyword> suffers Perils of the Warp.{\" \"}\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Deny the Witch</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Deny the Witch:</Rule> Passed if 2D6 exceeds\n                          result of the opposing <Keyword>Psyker</Keyword>’s\n                          Psychic test.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Only one attempt can be made to deny each psychic\n                          power.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Smite</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Warp Charge 5</Rule>: A Psychic test of 5+ is\n                          required to manifest Smite.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Warp charge increases by 1 for each other attempt to\n                          manifest Smite made in this phase.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          {\" \"}\n                          If manifested, closest visible enemy unit in 18\"\n                          suffers D3 mortal wounds.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          If manifested with a Psychic test result of 11+, enemy\n                          instead suffers D6 mortal wounds.{\" \"}\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Perils of the Warp</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Perils of the Warp</Rule>: The{\" \"}\n                          <Keyword>Psyker</Keyword> unit manifesting the power\n                          suffers D3 mortal wounds.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          If <Keyword>Psyker</Keyword> unit is destroyed, the\n                          psychic power fails to manifest.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          {\" \"}\n                          If <Keyword>Psyker</Keyword> unit destroyed, every\n                          other unit within 6\" suffers D3 mortal wounds.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          text: <>Shooting Phase</>,\n          level: 2,\n          tags: [\"core\"],\n          children: [\n            {\n              text: null,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: <>Select a unit from your army to shoot with.</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      When a unit shoots, select targets then resolve attacks\n                      with any or all ranged weapons that models in that unit\n                      are equipped with.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Select another unit from your army to shoot with.</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Once you have shot with all your units, progress to the\n                      Charge phase (pg 19).\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Select Targets</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Select targets for all weapons before any attacks are\n                      resolved.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      At least one model in the target unit must be visible to\n                      the attacking model and within range of the attacking\n                      weapon.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      If a unit targets multiple units, all attacks against one\n                      unit must be resolved before resolving attacks against the\n                      next.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      If a unit shoots with multiple weapons, all attacks made\n                      with weapons that have the same profile must be resolved\n                      before resolving attacks with the next.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Locked in Combat</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Units cannot shoot while they are within Engagement Range\n                      of any enemy units.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Units cannot shoot at targets within Engagement Range of\n                      any friendly units.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Number of Attacks</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      All of a ranged weapon’s attacks must be made against the\n                      same target unit.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Number of attacks = number after weapon’s type. </>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Advanced Rules</>,\n              level: 4,\n              tags: [\"advanced\", \"core\"],\n              children: [\n                {\n                  text: <>Big Guns Never Tire</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Keyword>Monsters</Keyword> and{\" \"}\n                          <Keyword>Vehicles</Keyword> can shoot ranged weapons\n                          even if within Engagement Range of enemy units.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          <Keyword>Monsters</Keyword> and{\" \"}\n                          <Keyword>Vehicles</Keyword> can target other units,\n                          but cannot resolve these attacks while any enemy\n                          models remain within their Engagement Range.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Subtract 1 from hit rolls made when{\" \"}\n                          <Keyword>Monsters</Keyword> and{\" \"}\n                          <Keyword>Vehicles</Keyword> shoot Heavy weapons while\n                          any enemy\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Look Out, Sir</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Cannot shoot at an enemy <Keyword>Character</Keyword>{\" \"}\n                          with 9 or less wounds while it is within 3\" of a\n                          friendly unit that contains 1{\" \"}\n                          <Keyword>Monsters</Keyword>, 1{\" \"}\n                          <Keyword>Vehicle</Keyword> or 3+ other models\n                          (excluding <Keyword>Character</Keyword> models with 9\n                          or less wounds) unless it is the closest target.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n              ],\n            },\n            {\n              text: <>Ranged Weapon Types</>,\n              level: 3,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: <>Assault</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>Can be shot even if firing model’s unit Advanced.</>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Subtract 1 from hit rolls if the firing model’s unit\n                          Advanced.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Heavy</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Subtract 1 from hit rolls if firing model is{\" \"}\n                          <Keyword>Infantry</Keyword> and its unit has moved\n                          this turn.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Rapid Fire</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Double number of attacks made if target is within half\n                          range.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Grenade</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Only one model can use a Grenade when its unit shoots.{\" \"}\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Pistol</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Can be shot even if firing model’s unit is within\n                          Engagement Range of enemy unit.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>Cannot be shot alongside any other type of weapon.</>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Advanced Rules</>,\n                  level: 4,\n                  tags: [\"advanced\", \"core\"],\n                  children: [\n                    {\n                      text: <>Blast Weapons</>,\n                      level: 4,\n                      tags: [\"core\"],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              <Rule>Blast Weapons</Rule>: Minimum three attacks\n                              against units with 6+ models. Always make maximum\n                              number of attacks against units with 11+ models.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              Can never be used to attack units within the\n                              firing unit’s Engagement Range.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                  ],\n                },\n              ],\n            },\n            {\n              text: <>Making Attacks</>,\n              level: 3,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: <>1. Hit Roll</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Hit roll (ranged weapon)</Rule>: Roll one D6;\n                          hit scored if result equals or beats attacking model’s\n                          BS. Otherwise attack fails.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          <Rule>Hit roll (melee weapon)</Rule>: Roll one D6; hit\n                          scored if result equals or beats attacking model’s WS.\n                          Otherwise attack fails.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: <>Unmodified hit rolls of 1 always fail.</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: <>Unmodified hit rolls of 6 always succeed.</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>Hit rolls cannot be modified by more than -1 or +1.</>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>2. Wound Roll</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <div>\n                          <TableTitle>WOUND ROLL</TableTitle>\n                          <Table>\n                            <TableHead>\n                              <tr>\n                                <th>\n                                  ATTACKER'S STRENGTH vs TARGET'S TOUGHNESS\n                                </th>\n                                <th style={{ textAlign: \"center\" }}>\n                                  D6 RESULT REQUIRED\n                                </th>\n                              </tr>\n                            </TableHead>\n                            <TableBody>\n                              <tr>\n                                <td>\n                                  Is the Strength <Red>TWICE (or more)</Red>{\" \"}\n                                  than the Toughness\n                                </td>\n                                <td>\n                                  <DiceResult>2+</DiceResult>\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>\n                                  Is the Strength <Red>GREATER</Red> than the\n                                  Toughness\n                                </td>\n                                <td>\n                                  <DiceResult>3+</DiceResult>\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>\n                                  Is the Strength <Red>EQUAL</Red> than the\n                                  Toughness\n                                </td>\n                                <td>\n                                  <DiceResult>4+</DiceResult>\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>\n                                  Is the Strength <Red>LOWER</Red> than the\n                                  Toughness\n                                </td>\n                                <td>\n                                  <DiceResult>5+</DiceResult>\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>\n                                  Is the Strength <Red>HALF (or less)</Red> than\n                                  the Toughness\n                                </td>\n                                <td>\n                                  <DiceResult>6+</DiceResult>\n                                </td>\n                              </tr>\n                            </TableBody>\n                          </Table>\n                        </div>\n                      ),\n                      tags: [\"core\", \"table\"],\n                      children: [],\n                    },\n                    {\n                      text: null,\n                      tags: [],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              <Rule>Wound roll</Rule>: Roll one D6 and compare\n                              attack’s S with target’s T on table to the left.\n                              Target wounded if score equals or beats the\n                              required result. Otherwise attack fails.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: <>Unmodified wound rolls of 1 always fail.</>,\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>Unmodified wound rolls of 6 always succeed.</>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              Wound rolls cannot be modified by more than -1 or\n                              +1.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                  ],\n                },\n                {\n                  text: <>3. Allocate Attack</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Allocate attack</Rule>: Player commanding target\n                          unit selects one model in that unit. If a model in the\n                          unit has already lost wounds, or has already had\n                          attacks allocated to it this phase, they must select\n                          that model.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>4. Saving Throw</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Saving throw</Rule>: Roll one D6 and modify by\n                          the attack’s AP. If result less than the Sv of the\n                          selected model, the saving throw is failed and it\n                          suffers damage. Otherwise attack is saved.{\" \"}\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: <>Unmodified saving throws of 1 always fail.</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>5. Inflict Damage</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Inflict damage</Rule>: The selected model loses\n                          a number of wounds equal to the attack’s D.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          If a model is destroyed by an attack, any excess\n                          damage inflicted by that attack is lost.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Advanced Rules</>,\n                  level: 4,\n                  tags: [\"advanced\", \"core\"],\n                  children: [\n                    {\n                      text: <>Invulnerable Saves</>,\n                      level: 4,\n                      tags: [\"core\"],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              <Rule>Invulnerable save</Rule>: Saving throw that\n                              is never modified by attacking weapon’s AP.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              A model with an invulnerable save can use it\n                              instead of its normal Sv\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                    {\n                      text: <>Mortal Wounds</>,\n                      level: 4,\n                      tags: [\"core\"],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              Each mortal wound inflicted on a unit causes one\n                              model in the unit to lose one wound.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              No saving throws can be made against mortal\n                              wounds.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                        {\n                          text: (\n                            <>\n                              Mortal wounds inflicted by attacks in addition to\n                              normal damage always apply, even if normal damage\n                              saved.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                    {\n                      text: <>Ignoring Wounds</>,\n                      level: 4,\n                      tags: [\"core\"],\n                      children: [\n                        {\n                          text: (\n                            <>\n                              A model can only use one rule to attempt to ignore\n                              each wound suffered.\n                            </>\n                          ),\n                          tags: [\"core\"],\n                          children: [],\n                        },\n                      ],\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          text: <>Charge Phase</>,\n          level: 2,\n          tags: [\"core\"],\n          children: [\n            {\n              text: null,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      The Charge phase is split into two steps. First you charge\n                      with your units. Then your opponent performs Heroic\n                      Interventions.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>1. Charges</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>2. Heroic Interventions</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>1. Charges</>,\n              level: 3,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: null,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: <>Select a unit from your army to charge with.</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: <>Charge with that unit (see below).</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>Select another unit from your army to charge with.</>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Once all your units have charged, progress to the\n                          Heroic Interventions step (pg 20).\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Charging with a Unit</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>Declare targets of the charge (must be within 12\").</>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: <> Charge roll = 2D6\".</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          If insufficient to move charging unit into Engagement\n                          Range of all targets, charge fails.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          If charge successful, models make their charge move.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Cannot make a charge move within Engagement Range of\n                          any unit that was not the target of the charge.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n              ],\n            },\n            {\n              text: <>2. Heroic Interventions</>,\n              level: 3,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: null,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Select one <Keyword>Character</Keyword> unit to\n                          perform a Heroic Intervention.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Cannot perform a Heroic Intervention if any enemy\n                          units are in Engagement Range.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          {\" \"}\n                          Must be an enemy unit within 3\" horizontal and 5\"\n                          vertical to perform a Heroic Intervention.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Select another <Keyword>Character</Keyword> unit to\n                          perform a Heroic Intervention.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Once all your <Keyword>Character</Keyword> units have\n                          performed Heroic Interventions, progress to the Fight\n                          phase (pg 21).\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Performing a Heroic Intervention</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Heroic Intervention</Rule>: Move up to 3\".\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: <>Must end closer to the closest enemy model.</>,\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n              ],\n            },\n            {\n              text: <>Advanced Rules</>,\n              level: 4,\n              tags: [\"advanced\", \"core\"],\n              children: [\n                {\n                  text: <>Charging Over Terrain</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Models can make a move freely over terrain features 1\"\n                          or less in height.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Models cannot move through taller terrain features,\n                          but can climb up and down them.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Flying when Charging</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Keyword>Fly</Keyword> models can move over other\n                          models when they make a charge move.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          <Keyword>Fly</Keyword> models move over terrain\n                          (including <Keyword>Buildings</Keyword>) like any\n                          other model when they make a charge move.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Overwatch</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Overwatch</Rule>: Before charge roll made, all\n                          charge targets that can fire Overwatch can do so.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Can never fire Overwatch while enemy units are in\n                          Engagement Range.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          When firing Overwatch, shoot with unit, but attacks\n                          only hit on unmodified 6s.{\" \"}\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          text: <>Fight Phase</>,\n          level: 2,\n          tags: [\"core\"],\n          children: [\n            {\n              text: null,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Starting with your opponent, alternate selecting units to\n                      fight with.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      If one player has no more units left to fight with, their\n                      opponent then fights with their remaining units, one at a\n                      time.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: (\n                    <>\n                      Once all units have fought, progress to the Morale phase\n                      (pg 23).\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Charging Units Fight First</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      Units that made a charge move this turn fight before all\n                      other units.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Fight</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      When a unit fights, it piles in, then it makes close\n                      combat attacks, then it consolidates.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Pile In</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Rule>Pile in</Rule>: Move up to 3\".\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Must end closer to the closest enemy model.</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>Make Close Combat Attacks</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: <>Which Models Fight</>,\n                  level: 5,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          A model can fight if it is in Engagement Range of an\n                          enemy unit.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          {\" \"}\n                          A model can fight if it is within ½\" of another model\n                          from their own unit that is within ½\" of an enemy\n                          unit.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Number of Attacks</>,\n                  level: 5,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Number of attacks made by each model that can fight =\n                          A.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Select Targets</>,\n                  level: 5,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          If the attacking unit made a charge move this turn,\n                          its models can only target units it declared a charge\n                          against this turn, or units that performed a Heroic\n                          Intervention this turn.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Select targets for all attacks, before any attacks are\n                          resolved.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          If a unit targets multiple units, all attacks against\n                          one unit must be resolved before resolving attacks\n                          against the next.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Select Weapons</>,\n                  level: 5,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Each close combat attack is made with a melee weapon.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          A model makes attacks using the close combat weapon\n                          profile if it has no other melee weapons.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          If a unit attacks with multiple weapons, all attacks\n                          made with weapons that have the same profile must be\n                          resolved before resolving attacks with the next.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n              ],\n            },\n            {\n              text: <>Consolidate</>,\n              level: 4,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      <Rule>Consolidate</Rule>: Move up to 3\".\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>Must end closer to the closest enemy model.</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          text: <>Morale Phase</>,\n          level: 2,\n          tags: [\"core\"],\n          children: [\n            {\n              text: null,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: (\n                    <>\n                      The Morale phase is split into two steps. First you take\n                      Morale tests for your units. Then you remove any\n                      out-ofcoherency models.\n                    </>\n                  ),\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>1. Morale Tests</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n                {\n                  text: <>2. Unit Coherency Checks</>,\n                  tags: [\"core\"],\n                  children: [],\n                },\n              ],\n            },\n            {\n              text: <>1. Morale Tests</>,\n              level: 3,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: null,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Players alternate taking Morale tests for units from\n                          their army that have suffered casualties this turn.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          If one player has no more units left to take Morale\n                          tests, their opponent then takes Morale tests for\n                          their remaining units, one at a time.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Once all units have taken Morale tests, progress to\n                          the Unit Coherency Checks step (see opposite).\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Morale Tests</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Morale test</Rule> = D6 + number of models\n                          destroyed this turn.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Unmodified roll of 1 always a success (no models\n                          flee).\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          If Morale test exceeds unit’s Ld, one model flees and\n                          other models must take Combat Attrition tests.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Combat Attrition Tests</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Combat Attrition tests</Rule>: Roll one D6 for\n                          each remaining model in unit; for each 1, one\n                          additional model flees.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Subtract 1 from Combat Attrition tests if unit is\n                          below Half-strength.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n              ],\n            },\n            {\n              text: <>2. Unit Coherency Checks</>,\n              level: 3,\n              tags: [\"core\"],\n              children: [\n                {\n                  text: null,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          Remove models from units in your army that are not in\n                          unit coherency (pg 4).\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Once all out of coherency models have been removed (if\n                          any), the Morale phase ends.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          The player’s turn then ends and, unless the battle\n                          ends, the next player’s turn begins (pg 9).\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          text: <>Missions</>,\n          level: 2,\n          tags: [\"core\"],\n          children: [\n            {\n              text: <>Advanced Rules</>,\n              level: 4,\n              tags: [\"advanced\", \"core\"],\n              children: [\n                {\n                  text: <>Objective Markers</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Objective marker</Rule>: 40mm round marker\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          {\" \"}\n                          Model in range of objective marker if within 3\"\n                          horizontally and 5\" vertically.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          Objective marker controlled by player with most models\n                          in range.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                    {\n                      text: (\n                        <>\n                          <Keyword>Aircraft</Keyword> and Fortifications cannot\n                          control objective markers.\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n                {\n                  text: <>Objective Secured</>,\n                  level: 4,\n                  tags: [\"core\"],\n                  children: [\n                    {\n                      text: (\n                        <>\n                          <Rule>Objective Secured</Rule>: Player controls\n                          objective marker if any of their models in range have\n                          this ability\n                        </>\n                      ),\n                      tags: [\"core\"],\n                      children: [],\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n  ],\n};\n","import React, { useState, useEffect } from \"react\";\nimport { FaWindowClose } from \"react-icons/fa\";\nimport styled from \"styled-components\";\n\nconst updateMenus = (menus, id, forceSelect, forceUnselect) => {\n  return menus.map((menu) => {\n    return {\n      ...menu,\n      selected:\n        (forceSelect || (menu.id === id ? !menu.selected : menu.selected)) &&\n        !forceUnselect,\n      subMenus:\n        menu.subMenus &&\n        updateMenus(\n          menu.subMenus,\n          id,\n          forceSelect || (menu.id === id && !menu.selected),\n          forceUnselect || (menu.id === id && menu.selected)\n        ),\n    };\n  });\n};\n\nconst MenuItem = ({ id, label, tags, subMenus, selected, setMenu }) => {\n  const toggleMenuItem = (event, id) => {\n    event.stopPropagation();\n    setMenu((prev) => updateMenus(prev, id, false, false));\n  };\n\n  return (\n    <li onClick={(event) => toggleMenuItem(event, id)}>\n      <input type=\"checkbox\" checked={!!selected} onChange={() => {}} />\n      {label}\n      {subMenus?.length ? (\n        <ul>\n          {subMenus.map((sm) => (\n            <MenuItem key={sm.id} {...sm} setMenu={setMenu} />\n          ))}\n        </ul>\n      ) : null}\n    </li>\n  );\n};\n\nconst Menu = ({ isOpen, menu, onChange, onClose }) => {\n  const [menuState, setMenu] = useState(menu);\n\n  useEffect(() => {\n    onChange(menuState);\n  }, [menuState, onChange]);\n\n  if (!isOpen) {\n    return null;\n  }\n\n  return (\n    <StyledRoot>\n      <div onClick={onClose} style={{ cursor: \"pointer\" }}>\n        <FaWindowClose style={{ fontSize: \"40px\" }} />\n      </div>\n      <ul>\n        {menuState.map((item) => (\n          <MenuItem key={item.id} {...item} setMenu={setMenu} />\n        ))}\n      </ul>\n    </StyledRoot>\n  );\n};\n\nexport default Menu;\n\nconst StyledRoot = styled.div`\n  background: #979584;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  box-shadow: 0px 1px 12px 2px rgba(0, 0, 0, 0.5);\n\n  & ul {\n    background: transparent;\n  }\n\n  & ul:before {\n    content: none;\n  }\n\n  & li:before {\n    content: none;\n  }\n\n  & li:hover {\n    background: rgba(255, 255, 255, 0.2);\n    cursor: pointer;\n  }\n`;\n","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport debounce from \"lodash/debounce\";\nimport ReactDOMServer from \"react-dom/server\";\nimport { FaBars } from \"react-icons/fa\";\nimport styled from \"styled-components\";\n\nimport bloodOfBaalFaq from \"./data/blood_of_baal.json\";\nimport coreRules from \"./data/core-rules\";\nimport necronsFaq from \"./data/necrons.json\";\nimport ritualOfTheDamnedFaq from \"./data/ritual_of_the_damned.json\";\nimport tauFaq from \"./data/tau.json\";\nimport theGreaterGoodFaq from \"./data/the_greater_good.json\";\nimport thousandSonsFaq from \"./data/thousand_sons.json\";\nimport tyranidsFaq from \"./data/tyranids.json\";\nimport Menu from \"./components/Menu\";\n\nconst applyFilter = (node, filter, parentMatches) => {\n  const text = ReactDOMServer.renderToString(node.text);\n\n  // Query\n  const queryMatch = text.toLowerCase().includes(filter.query);\n\n  // Faction Filtering\n  const filterMatch =\n    !filter?.factions?.length ||\n    node.tags.some((t) => filter.factions.includes(t));\n\n  const match = parentMatches || (queryMatch && filterMatch);\n\n  const children = node.children\n    .map((c) => applyFilter(c, filter, match))\n    .filter((n) => n);\n  return match || children.length > 0 ? { ...node, children: children } : null;\n};\n\nconst filterDebounceTime = 300;\n\nconst debouncedResetScroll = debounce(() => {\n  window.scrollTo(0, 0);\n}, filterDebounceTime);\n\nconst menu = [\n  {\n    id: \"rules\",\n    label: \"Rules\",\n    tags: [],\n    subMenus: [\n      { id: \"core\", label: \"Core Rules\", tags: [\"core\"] },\n      { id: \"main\", label: \"Other Rulebook Rules\", tags: [\"main\"] },\n    ],\n  },\n  {\n    id: \"spaceMarinesGroup\",\n    label: \"Space Marines\",\n    tags: [],\n    subMenus: [\n      {\n        id: \"space_marines\",\n        label: \"Space Marines\",\n        tags: [\"space_marines\"],\n      },\n      {\n        id: \"ultramarines\",\n        label: \"Ultramarines\",\n        tags: [\"ultramarines\"],\n      },\n    ],\n  },\n  {\n    id: \"xenos\",\n    label: \"Xenos\",\n    tags: [],\n    subMenus: [\n      {\n        id: \"tyranidsGroup\",\n        label: \"Tyranids\",\n        tags: [],\n        subMenus: [\n          {\n            id: \"tyranids\",\n            label: \"Tyranids\",\n            tags: [\"tyranids\"],\n          },\n          {\n            id: \"gsc\",\n            label: \"Genestealer Cult\",\n            tags: [\"genestealer_cult\"],\n          },\n        ],\n      },\n      {\n        id: \"tau\",\n        label: \"T'au Empire\",\n        tags: [\"tau\"],\n      },\n      {\n        id: \"necrons\",\n        label: \"Necrons\",\n        tags: [\"necrons\"],\n      },\n    ],\n  },\n  {\n    id: \"armiesOfChaos\",\n    label: \"Armies of Chaos\",\n    tags: [],\n    subMenus: [\n      {\n        id: \"ts\",\n        label: \"Thousand Sons\",\n        tags: [\"thousand_sons\"],\n      },\n    ],\n  },\n];\n\nconst menuToFactions = (menus) =>\n  menus\n    .map(({ selected, subMenus, tags }) => [\n      ...(selected ? tags : []),\n      ...(subMenus ? menuToFactions(subMenus) : []),\n    ])\n    .flat();\n\nconst RulesApp = () => {\n  const dataSource = useMemo(\n    () => ({\n      text: null,\n      tags: [],\n      children: [\n        coreRules,\n        tyranidsFaq,\n        bloodOfBaalFaq,\n        tauFaq,\n        theGreaterGoodFaq,\n        thousandSonsFaq,\n        ritualOfTheDamnedFaq,\n        necronsFaq,\n      ],\n    }),\n    []\n  );\n  const [factions, setFactions] = useState([]);\n  const [menuOpen, setMenuOpen] = useState(false);\n\n  // const dataSource = tyranidsFaq\n  const [filtered, setFiltered] = useState(dataSource);\n  const [query, setQuery] = useState(\"\");\n  // const [breadcrumb, setBreadcrumb] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]);\n  // const updateBreadcrumb = ({ level, text }) => {\n  //   if(level <= 3) {\n  //     const idx = level - 1;\n  //     setBreadcrumb((prev) => {\n  //       const ret = [...prev];\n  //       ret.fill(\"\", idx);\n  //       ret[idx] = text;\n  //       return ret;\n  //     });\n  //   }\n  // };\n\n  const handleMenuClose = useCallback(() => setMenuOpen(false), []);\n\n  const debouncedApplyFilter = useMemo(\n    () =>\n      debounce((query, factions) => {\n        const filter = { query: query.toLowerCase(), factions };\n        console.log(\"applyFilter - Factions\", filter.factions);\n        setFiltered(applyFilter(dataSource, filter, false));\n      }, filterDebounceTime),\n    [dataSource]\n  );\n\n  useEffect(() => {\n    // I am displayed if I match OR if one of my children matches\n    // If I match, all of my children are matched\n    debouncedApplyFilter(query, factions);\n    debouncedResetScroll();\n  }, [query, factions, debouncedApplyFilter]);\n\n  // const debouncedBreadcrumb = useDebounce(breadcrumb, 300);\n\n  const handlMenuChange = useCallback(\n    (menu) => setFactions(menuToFactions(menu)),\n    []\n  );\n\n  return (\n    <>\n      {/* <Header>{debouncedBreadcrumb.filter((item) => item).join(\" > \")}</Header> */}\n      <Header>\n        <div\n          onClick={() => setMenuOpen((prev) => !prev)}\n          style={{ padding: \"4px\", cursor: \"pointer\" }}\n        >\n          <FaBars />\n        </div>\n        <SearchInput\n          type=\"text\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n        />\n      </Header>\n      <Container>\n        {filtered ? (\n          filtered.children.map((c, i) => (\n            <Node\n              key={i}\n              // updateBreadcrumb={updateBreadcrumb}\n              node={c}\n              level={1}\n            />\n          ))\n        ) : (\n          <h1>No matches found</h1>\n        )}\n      </Container>\n      <MenuContainer>\n        <Menu\n          isOpen={menuOpen}\n          menu={menu}\n          onChange={handlMenuChange}\n          onClose={handleMenuClose}\n        />\n      </MenuContainer>\n    </>\n  );\n};\n\nconst Rules = ({ nodes }) => (\n  <ul>\n    {nodes.map((node, idx) => (\n      <li key={idx}>{node.text}</li>\n    ))}\n  </ul>\n);\n\nconst headings = {\n  1: styled.h1``,\n  2: styled.h2``,\n  3: styled.h3``,\n  4: styled.h4``,\n  5: styled.h5``,\n  6: styled.h6``,\n};\n\nconst Node = ({ node, level, updateBreadcrumb }) => {\n  const actualLevel = node.level ?? level;\n  const advanced = node.tags.some((t) => t === \"advanced\");\n  const table = node.tags.some((t) => t === \"table\");\n  const Heading = headings[actualLevel];\n  let title = null;\n\n  if (node.text) {\n    if (table) {\n      title = node.text;\n    } else {\n      title = (\n        <Heading className={advanced ? \"advanced_title\" : \"\"}>\n          {/* <Waypoint\n              topOffset='60px'\n              onEnter={({ previousPosition, currentPosition }) => {\n                if (previousPosition === Waypoint.above && currentPosition === Waypoint.inside) {\n                  updateBreadcrumb({ text: '', level: actualLevel });\n                }\n              }}\n              onLeave={({ previousPosition, currentPosition }) => {\n                if (previousPosition === Waypoint.inside && currentPosition === Waypoint.above) {\n                  updateBreadcrumb({ text: ReactDOMServer.renderToString(node.text), level: actualLevel });\n                }\n              }}\n            /> */}\n          {node.text}\n        </Heading>\n      );\n    }\n  }\n\n  let children = null;\n  if (table) {\n  } else if (node.children.every((c) => c.children.length === 0 && !c.level)) {\n    children = <Rules nodes={node.children} />;\n  } else {\n    children = node.children?.map((c, i) => (\n      <Node\n        key={i}\n        node={c}\n        level={actualLevel + 1}\n        updateBreadcrumb={updateBreadcrumb}\n      />\n    ));\n  }\n\n  return (\n    <>\n      {title}\n      <div className={advanced ? \"advanced_rules\" : \"\"}>{children}</div>\n    </>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  max-width: 960px;\n`;\n\nconst Header = styled.div`\n  position: fixed;\n  background: #979584;\n  color: white;\n  top: 0;\n  width: 100%;\n  left: 0;\n  z-index: 1000;\n  padding: 8px;\n  font-family: \"Roboto Condensed\", sans-serif;\n  font-size: 22px;\n  font-weight: 700;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0px 1px 12px 2px rgba(0, 0, 0, 0.5);\n`;\n\nconst SearchInput = styled.input`\n  background: rgba(255, 255, 255, 0.2);\n  font-family: \"Roboto Condensed\", sans-serif;\n  font-size: 22px;\n  padding: 2px 8px;\n`;\n\nconst MenuContainer = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n`;\n\nexport default RulesApp;\n","export const BATTLE_SIZES = {\n  COMBAT_PATROL: {\n    key: \"COMBAT_PATROL\",\n    name: \"Combat Patrol\",\n    pts: 500,\n    CP: 3,\n    board: '44\" x 30\"',\n  },\n  // INCURSION: {\n  //   key: 'INCURSION',\n  //   name: \"Incusrion\",\n  //   pts: 1000,\n  //   CP: 6,\n  // board: '44\" x 30\"',\n  // },\n  // STRIKE_FORCE: {\n  //   key: 'STRIKE_FORCE',\n  //   name: \"Strike Force\",\n  //   pts: 2000,\n  //   CP: 12,\n  //board: '44\" x 60\"',\n  // },\n  // ONSLAUGHT: {\n  //   key: 'ONSLAUGHT',\n  //   name: \"Onslaught\",\n  //   pts: 3000,\n  //   CP: 18,\n  // board: '44\" x 90\"',\n  // },\n};\n\nexport const GAME_MODES = {\n  MATCHED_PLAY: \"Matched Play\",\n  CRUSADE: \"Crusade\",\n  OPEN_PLAY: \"Open Play\",\n};\n\nexport const SECONDARY_CATEGORIES = {\n  MISSION_SPECIFIC: \"Mission Specific\",\n  PURGE_THE_ENNEMY: \"Purge the Ennemy\",\n  NO_MERCY_NO_RESPITE: \"No Mercy, No Respite\",\n  BATTLEFIELD_SUPREMACY: \"Battlefield Supremacy\",\n  SHADOW_OPERATIONS: \"Shadow Operations\",\n  WARPCRAFT: \"Warpcraft\",\n};\n","import React from \"react\";\nimport { GAME_MODES, BATTLE_SIZES, SECONDARY_CATEGORIES } from \"./common\";\n\nconst MISSIONS = [\n  {\n    mode: GAME_MODES.MATCHED_PLAY,\n    size: BATTLE_SIZES.COMBAT_PATROL.key,\n    name: \"Incisive Attack\",\n    source: \"core\",\n    briefing:\n      \"Two forces have dug in and fought to a stalemate. Adopting a new approach to the war, opportunistic bands of warriors now venture forth into no man’ land to seize vital ground and defeat the enemy with surgical assaults across the front.\",\n    rules: [\n      {\n        name: \"Sweep and Clear\",\n        description:\n          \"In this mission, if you control an objective marker at the end of your Command phase, it remains under your control, even if you have no models within range of it, unless your opponent controls it at the end of any subsequent phase.\",\n      },\n    ],\n    primary_objectives: [\n      {\n        name: \"Take and Hold\",\n        type: \"Progressive\",\n        description: () => (\n          <>\n            At the end of each player’s Command phase, the player whose turn it\n            is scores 5 victory points for each of the following conditions they\n            satisfy (for a maximum of 15 victory points):\n            <ul>\n              <li>They control one or more objective markers.</li>\n              <li>hey control two or more objective markers.</li>\n              <li>\n                They control more objective markers than their opponent\n                controls.\n              </li>\n            </ul>\n          </>\n        ),\n      },\n    ],\n    secondary_objectives: [\n      {\n        name: \"Surgical Assault\",\n        type: \"Progressive\",\n        category: SECONDARY_CATEGORIES.MISSION_SPECIFIC,\n        description:\n          \"Score 5 victory points if you control the objective marker in your opponent’s deployment zone at the end of your turn.\",\n        points: [0, 5, 10, 15],\n      },\n    ],\n    deployment: \"incisive_attack.png\",\n  },\n  // {\n  //   mode: GAME_MODES.MATCHED_PLAY,\n  //   size: BATTLE_SIZES.COMBAT_PATROL.key,\n  //   name: \"Outriders\",\n  //   source: \"core\",\n  // },\n  // {\n  //   mode: GAME_MODES.MATCHED_PLAY,\n  //   size: BATTLE_SIZES.COMBAT_PATROL.key,\n  //   name: \"Encircle\",\n  //   source: \"core\",\n  // },\n];\n\nexport default MISSIONS;\n","import React, { useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\n\nimport { useGameContext } from \"../contexts/GameContext\";\nimport { BATTLE_SIZES, GAME_MODES } from \"../data/common\";\nimport MISSIONS from \"../data/missions\";\n\n// 1. Select Battle Size\n// 2. Muster Armies\n// 3. Determine Mission\n// 4. Read Mission Briefing\nconst ChooseMission = ({ next }) => {\n  const { gameState, setGameState } = useGameContext();\n\n  const [mode, setMode] = useState(gameState.mode ?? GAME_MODES.MATCHED_PLAY);\n  const [size, setSize] = useState(\n    gameState.size ?? BATTLE_SIZES.COMBAT_PATROL.key\n  );\n  const [mission, setMission] = useState(\n    MISSIONS.find((m) => m.name === gameState.mission)\n  );\n\n  const onSave = () => {\n    setGameState((prev) => ({ ...prev, mode, size, mission: mission.name }));\n\n    next();\n  };\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\">\n      <h1>Choose Mission</h1>\n      <FormControl variant=\"filled\">\n        <InputLabel id=\"mode\">Game Mode</InputLabel>\n        <Select\n          labelId=\"mode\"\n          value={mode}\n          onChange={(event) => {\n            setMode(event.target.value);\n            setSize(BATTLE_SIZES.COMBAT_PATROL.key);\n            setMission(null);\n          }}\n        >\n          {Object.values(GAME_MODES).map((v) => (\n            <MenuItem key={v} value={v}>\n              {v}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControl variant=\"filled\">\n        <InputLabel id=\"size\">Battle Size</InputLabel>\n        <Select\n          labelId=\"size\"\n          value={size}\n          onChange={(event) => {\n            setSize(event.target.value);\n            setMission(null);\n          }}\n        >\n          {Object.keys(BATTLE_SIZES).map((key) => (\n            <MenuItem key={key} value={key}>\n              {BATTLE_SIZES[key].name} - {BATTLE_SIZES[key].pts}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControl variant=\"filled\">\n        <InputLabel id=\"mission\">Mission</InputLabel>\n        <Select\n          labelId=\"mission\"\n          value={mission?.name ?? \"\"}\n          onChange={(event) =>\n            setMission(MISSIONS.find((m) => m.name === event.target.value))\n          }\n        >\n          {MISSIONS.filter((m) => m.mode === mode && m.size === size).map(\n            (m) => (\n              <MenuItem key={m.name} value={m.name}>\n                {m.source} - {m.name}\n              </MenuItem>\n            )\n          )}\n        </Select>\n      </FormControl>\n      {mission && (\n        <Box>\n          <h2>Briefing</h2>\n          <Box>{mission.briefing}</Box>\n          <h2>Primary Objectives</h2>\n          {mission.primary_objectives.map((o) => (\n            <Box key={o.name}>\n              <h3>{o.name}</h3>\n              <h4>{o.type}</h4>\n              <Box>{o.description}</Box>\n            </Box>\n          ))}\n          <h2>Secondary Objectives</h2>\n          {mission.secondary_objectives.map((o) => (\n            <Box key={o.name}>\n              <h3>{o.name}</h3>\n              <h4>{o.type}</h4>\n              <Box>{o.description}</Box>\n            </Box>\n          ))}\n          <h2>Deployment</h2>\n          <img\n            alt=\"deployment\"\n            src={`${process.env.PUBLIC_URL}/missions/deployments/${mission.deployment}`}\n            style={{ width: \"100%\" }}\n          />\n        </Box>\n      )}\n      {mission && (\n        <Button variant=\"contained\" color=\"primary\" onClick={onSave}>\n          Continue\n        </Button>\n      )}\n    </Box>\n  );\n};\n\nexport default ChooseMission;\n","import React from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\n\nconst GameSetup = ({ next }) => {\n  return (\n    <>\n      <h1>Game Setup</h1>\n      <h2>8. Determine Attacker and Defender</h2>\n      <Box>\n        The players roll off and the winner decides who will be the Attacker and\n        who will be the Defender.\n      </Box>\n      <h2>9. Choose Deployment Zone</h2>\n      <Box>\n        The Defender now selects one of the deployment zones for their army.\n        Their opponent uses the other deployment zone.\n      </Box>\n      <h2>10. Declare REserves and Transports</h2>\n      <Box>These missions use the Strategic Reserves rules (pg 256).</Box>\n      <Box>\n        Both players now secretly note down on their army roster which of the\n        units in their army will start the battle in Strategic Reserves, which\n        of their units will start the battle in a location other than the\n        battlefield (if a player has access to any Stratagems that enable them\n        to set up 281units from their army in a location other than the\n        battlefield, they must use such Stratagems now), and which of their\n        units will start the battle embarked within TRANSPORT models (they must\n        declare what units are embarked on what model). When both players have\n        done so, they declare their selections to their opponent.\n      </Box>\n      <Box>\n        No more than half the total number of units in your army can be\n        Strategic Reserve and/ or Reinforcement units, and the combined points\n        value of all your Strategic Reserve and Reinforcement units (including\n        those embarked within TRANSPORT models that are Strategic Reserve and/or\n        Reinforcement units) must be less than half of your army’s total points\n        value, even if every unit in your army has an ability that would allow\n        them to be set up elsewhere.\n      </Box>\n      <Box>\n        In Eternal War missions, Strategic Reserve and Reinforcement units can\n        never arrive on the battlefield in the first battle round. Any Strategic\n        Reserve or Reinforcement unit that has not arrived on the battlefield by\n        the end of the third battle round counts as having been destroyed, as do\n        any units embarked within them (this does not apply to units that are\n        placed into Strategic Reserves after the first battle round has\n        started).\n      </Box>\n      <h2>11. Deploy Armies</h2>\n      <Box>\n        The players alternate setting up their remaining units, one at a time,\n        starting with the Defender. A player’s models must be set up wholly\n        within their deployment zone. If one player finishes deploying all their\n        units, their opponent then deploys the remainder of their units.\n      </Box>\n      <Box>\n        If a model from your army is so large that it cannot physically be set\n        up wholly within your deployment zone (i.e. the smallest dimension of\n        that model is greater than the depth of your deployment zone), it must\n        be set up so that it is touching your battlefield edge. In the first\n        battle round, that model's unit cannot do any of the following: make a\n        Normal Move, Advance, Fall Back, attempt to manifest or deny psychic\n        powers, make any attacks with ranged weapons, declare a charge, perform\n        a Heroic Intervention, perform any actions or psychic actions. Models in\n        such units count as having moved a distance in inches equal to their\n        Move (M) characteristic in their first Movement phase. If the unit has a\n        minimum Move characteristic, it counts as having moved its maximum Move\n        characteristic.\n      </Box>\n      <Box>\n        If both players have units with abilities that allow them to be set up\n        ‘after both armies have deployed; the players must roll off after all\n        other units have been set up and alternate setting up these units,\n        starting with the winner.\n      </Box>\n      <h2>12. Determine First Turn</h2>\n      <Box>\n        The players roll off. The winner declares whether they will take the\n        first or second turn.\n      </Box>\n      <h2>13. Resolve Pre-Battle Abilities</h2>\n      <Box>\n        Players alternate resolving any pre-battle abilities units in their army\n        may have, and resolving any Stratagems that are used before the battle\n        (excluding those that upgrade their units or those that enable them to\n        set up a unit in a location other than the battlefield), starting with\n        the player who will take the first turn.\n      </Box>\n      <Button variant=\"contained\" color=\"primary\" onClick={next}>\n        Continue\n      </Button>\n    </>\n  );\n};\n\nexport default GameSetup;\n","import React, { useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Slider from \"@material-ui/core/Slider\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { useGameContext } from \"../contexts/GameContext\";\n\nconst primaryObjectivesMarks = [\n  {\n    value: 0,\n    label: \"0\",\n  },\n  {\n    value: 5,\n    label: \"5\",\n  },\n  {\n    value: 10,\n    label: \"10\",\n  },\n  {\n    value: 15,\n    label: \"15\",\n  },\n];\n\nconst PlayerScore = ({ idx }) => {\n  const { gameState, setGameState } = useGameContext();\n\n  const { primaryScores, setPrimaryScores } = useState([0, 0, 0, 0]);\n  const { secondaryScores, setSecondaryScores } = useState([0, 0, 0]);\n\n  const player = gameState.players[idx];\n\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"column\"\n      width={window.innerWidth > 1000 ? 1000 : window.innerWidth}\n    >\n      <h1>{player.name || `Player ${idx + 1}`}</h1>\n      <h2>Primary Objectives</h2>\n      {Array.from({ length: 4 }, (_, k) => k + 2).map((i) => (\n        <Box display=\"flex\" alignItems=\"center\" key={i}>\n          <Typography>Turn {i}</Typography>\n          <Box p={4} flex={1}>\n            <Slider\n              max={15}\n              defaultValue={0}\n              aria-labelledby=\"discrete-slider-restrict\"\n              step={null}\n              valueLabelDisplay=\"off\"\n              marks={primaryObjectivesMarks}\n            />\n          </Box>\n        </Box>\n      ))}\n      <h2>Secondary Objectives</h2>\n      {player.secondaries.map((s) => (\n        <Box p={4} display=\"flex\" flexDirection=\"column\" key={s.name}>\n          <h3>{s.name}</h3>\n          <Typography variant=\"subtitle1\">{s.type}</Typography>\n          <Box>{s.description}</Box>\n          <Slider\n            max={s.points[s.points.length - 1]}\n            defaultValue={s.points[0]}\n            aria-labelledby=\"discrete-slider-restrict\"\n            step={null}\n            valueLabelDisplay=\"off\"\n            marks={s.points.map((p) => ({ value: p, label: `${p}` }))}\n          />\n        </Box>\n      ))}\n    </Box>\n  );\n};\n\nexport default PlayerScore;\n","import React, { useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport SwipeableDrawer from \"@material-ui/core/SwipeableDrawer\";\n\nimport PlayerScore from \"./PlayerScore\";\n\nconst MakeWar = ({ next }) => {\n  const [drawersState, setDrawersState] = useState({\n    player1: false,\n    player2: false,\n  });\n\n  const toggleDrawer = (anchor, open) => (event) => {\n    if (\n      event &&\n      event.type === \"keydown\" &&\n      (event.key === \"Tab\" || event.key === \"Shift\")\n    ) {\n      return;\n    }\n\n    setDrawersState((prev) => ({ ...prev, [anchor]: open }));\n  };\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\">\n      <h1>Make WAR!</h1>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={toggleDrawer(\"player1\", true)}\n      >\n        Player 1\n      </Button>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={toggleDrawer(\"player2\", true)}\n      >\n        Player 2\n      </Button>\n      <SwipeableDrawer\n        anchor=\"left\"\n        open={drawersState.player1}\n        onClose={toggleDrawer(\"player1\", false)}\n        onOpen={toggleDrawer(\"player1\", true)}\n      >\n        <PlayerScore idx={0} />\n      </SwipeableDrawer>\n      <SwipeableDrawer\n        anchor=\"right\"\n        open={drawersState.player2}\n        onClose={toggleDrawer(\"player2\", false)}\n        onOpen={toggleDrawer(\"player2\", true)}\n      >\n        <PlayerScore idx={1} />\n      </SwipeableDrawer>\n    </Box>\n  );\n};\n\nexport default MakeWar;\n","import React, { useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport { useGameContext } from \"../contexts/GameContext\";\n\nconst PlayerSetup = ({ idx, next }) => {\n  const { gameState, setGameState } = useGameContext();\n\n  const player = gameState.players[idx];\n\n  const [name, setName] = useState(player.name);\n  const [faction, setFaction] = useState(player.faction);\n\n  const onSave = () => {\n    setGameState((prev) => {\n      const updated = { ...prev };\n      updated.players[idx] = {\n        name: name,\n        faction,\n      };\n      return updated;\n    });\n\n    next();\n  };\n\n  const factions = [\"Space Marines\", \"Tyranids\"];\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\">\n      <h1>{`Player ${idx + 1}`}</h1>\n      <TextField\n        variant=\"filled\"\n        label=\"Name (optional)\"\n        placeholder={`Player ${idx + 1}`}\n        value={name}\n        onChange={(event) => setName(event.target.value)}\n      />\n      <FormControl variant=\"filled\">\n        <InputLabel id=\"faction\">Faction</InputLabel>\n        <Select\n          labelId=\"faction\"\n          value={faction}\n          onChange={(event) => setFaction(event.target.value)}\n        >\n          {factions.map((f) => (\n            <MenuItem key={f} value={f}>\n              {f}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      {faction ? (\n        <Button variant=\"contained\" color=\"primary\" onClick={onSave}>\n          Continue\n        </Button>\n      ) : null}\n    </Box>\n  );\n};\n\nexport default PlayerSetup;\n","import { SECONDARY_CATEGORIES } from \"./common\";\n\nconst SECONDARIES = [\n  {\n    name: \"Assassinate\",\n    type: \"End Game\",\n    category: SECONDARY_CATEGORIES.PURGE_THE_ENNEMY,\n    description:\n      \"Score 3 victory points at the end of the battle for each enemy CHARACTER model that is destroyed.\",\n    points: [0, 3, 6, 9, 12, 15],\n  },\n  {\n    name: \"Bring it Down\",\n    type: \"End Game\",\n    category: SECONDARY_CATEGORIES.PURGE_THE_ENNEMY,\n    description:\n      \"Score 2 victory points at the end of the battle for each enemy MONSTER or VEHICLE model with a Wounds characteristic of 10 or less that is destroyed, and 3 victory points for each enemy MONSTER or VEHICLE model with a Wounds characteristic of 11 or more that is destroyed.\",\n    points: [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n  },\n  {\n    name: \"Titan Slayer\",\n    type: \"End Game\",\n    category: SECONDARY_CATEGORIES.PURGE_THE_ENNEMY,\n    description:\n      \"Score 10 victory points at the end of the battle if one enemy TITANIC model is destroyed, or 15 victory points if two or more enemy TITANIC models are destroyed.\",\n    points: [0, 10, 15],\n  },\n  {\n    name: \"Slay the Warlord\",\n    type: \"End Game\",\n    category: SECONDARY_CATEGORIES.PURGE_THE_ENNEMY,\n    description:\n      \"Score 6 victory points at the end of the battle if the enemy Warlord is destroyed.\",\n    points: [0, 6],\n  },\n  {\n    name: \"Thin their Ranks\",\n    type: \"End Game\",\n    category: SECONDARY_CATEGORIES.NO_MERCY_NO_RESPITE,\n    description:\n      \"If you select this objective, keep a tally of kill points; each time an enemy model is destroyed, add 1 to this tally (add 10 to this tally instead if the model that was destroyed had a Wounds characteristic of 10 or more). A model can, if it is resurrected for any reason (i.e. it was destroyed and subsequently returned to the battlefield), potentially add several points to this tally (assuming it is resurrected and subsequently destroyed several times over). At the end of the battle, divide your kill points tally by 10 and round down - the result is the number of victory points you score.\",\n    points: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n  },\n  {\n    name: \"Attrition\",\n    type: \"Progressive\",\n    category: SECONDARY_CATEGORIES.NO_MERCY_NO_RESPITE,\n    description:\n      \"Score 4 victory points at the end of the battle round if more enemy units than friendly units were destroyed this battle round.\",\n    points: [0, 4, 8, 12, 15],\n  },\n  {\n    name: \"While we Stand we Fight\",\n    type: \"End Game\",\n    category: SECONDARY_CATEGORIES.NO_MERCY_NO_RESPITE,\n    description:\n      \"If you select this objective, then before the battle you must identify which three models from your army (excluding models with the Fortifications Battlefield Role) have the highest points value, and make a note of them on your army roster (if two or more are models are tied, you can choose between them). If your army has three or fewer models, then you instead identify all the units in your army. A model's points cost includes the points of all weapons and wargear it is equipped with. You score 5 victory points for each of these models that are on the battlefield at the end of the battle.\",\n    points: [0, 5, 10, 15],\n  },\n  {\n    name: \"First Strike\",\n    type: \"End Game\",\n    category: SECONDARY_CATEGORIES.NO_MERCY_NO_RESPITE,\n    description:\n      \"Score 5 victory points at the end of the battle if any enemy units were destroyed in the first battle round, and score an additional 3 victory points if more enemy units than friendly units were destroyed in the first battle round.\",\n    points: [0, 5, 8],\n  },\n  {\n    name: \"Engage on All Fronts\",\n    type: \"Progressive\",\n    category: SECONDARY_CATEGORIES.BATTLEFIELD_SUPREMACY,\n    description:\n      'Score 2 victory points at the end of your turn if you have one or more units from your army wholly within three different table quarters, and those units are all more than 6\" from the centre of the battlefield. Score 3 victory points instead if you have one or more units from your army wholly within each table quarter, and those units are all more than 6\" from the centre of the battlefield.',\n    points: [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n  },\n  {\n    name: \"Linebreaker\",\n    type: \"Progressive\",\n    category: SECONDARY_CATEGORIES.BATTLEFIELD_SUPREMACY,\n    description:\n      \"Score 4 victory points at the end of your turn if two or more units from your army (excluding AIRCRAFT) are wholly within your opponent's deployment zone.\",\n    points: [0, 4, 8, 12, 15],\n  },\n  {\n    name: \"Domination\",\n    type: \"Progressive\",\n    category: SECONDARY_CATEGORIES.BATTLEFIELD_SUPREMACY,\n    description:\n      \"Score 3 victory points if you control more than half the total number of objective markers on the battlefield at the end of your turn.\",\n    points: [0, 3, 6, 9, 12, 15],\n  },\n  {\n    name: \"Investigate Sites\",\n    type: \"Progressive\",\n    category: SECONDARY_CATEGORIES.SHADOW_OPERATIONS,\n    description:\n      'Score 3 victory points each time a unit from your army successfully completes the following action: Investigate Site (Action): One INFANTRY unit (excluding CHARACTERS) from your army can start to perform this action at the end of your Movement phase if it is within 6\" of the centre of the battlefield and no enemy units (excluding AIRCRAFT) are within 6\" of the centre of the battlefield. The Action is completed at the end of your turn.',\n    points: [0, 3, 6, 9, 12, 15],\n  },\n  {\n    name: \"Repair Teleport Homer\",\n    type: \"Progressive\",\n    category: SECONDARY_CATEGORIES.SHADOW_OPERATIONS,\n    description:\n      \"Score 5 victory points each time a unit from your army successfully completes the following action: Repair Teleport Homer (Action): One INFANTRY unit from your army can start to perform this action at the end of your Movement phase if it is wholly within your opponent's deployment zone. The Action is completed at the end of your next Command phase provided the unit attempting it is still wholly within your opponent's deployment zone.\",\n    points: [0, 5, 10, 15],\n  },\n  {\n    name: \"Raise the Banners High\",\n    type: \"Progressive and Eng Game\",\n    category: SECONDARY_CATEGORIES.SHADOW_OPERATIONS,\n    description:\n      \"If you select this objective, then units in your army can perform the following action: Raise Banners (Action): One or more INFANTRY units from your army can start to perform this action at the end of your Movement phase. Each unit from your army that starts to perform this action must be in range of a different objective marker that does not have one of your banners raised upon it (see below). A unit cannot start this action while there are any enemy units (excluding AIRCRAFT) in range of the same objective marker. The Action is completed at the end of your turn. If this Action is successfully completed, that objective marker is said to have one of your army’s banners raised on it (the banner is ‘removed’ if your opponent controls the objective marker at the start of any phase). You score 1 victory point at the end of each of your Command phases, and 1 victory point at the end of the battle, for each objective marker on the battlefield that has one of your banners raised upon it.\",\n    points: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n  },\n  {\n    name: \"Mental Interrogation\",\n    type: \"Progressive\",\n    category: SECONDARY_CATEGORIES.WARPCRAFT,\n    description:\n      'Score 3 victory points each time you successfully complete the following psychic action: Mental Interrogation (Psychic Action - Warp Charge 4): One PSYKER CHARACTER from your army can attempt to perform this psychic action in your Psychic phase if it is within 18\" of any enemy CHARACTER models.',\n    points: [0, 3, 6, 9, 12, 15],\n  },\n  {\n    name: \"Psychic Ritual\",\n    type: \"End Game\",\n    category: SECONDARY_CATEGORIES.WARPCRAFT,\n    description:\n      'Score 15 victory points at the end of the battle if any unit from your army successfully completed the following psychic action 3 times during the battle: Psychic Ritual (Psychic Action - Warp Charge 3): One PSYKER CHARACTER unit from your army can attempt to perform this psychic action in your Psychic phase if it is within 6\" of the centre of the battlefield.',\n    points: [0, 15],\n  },\n  {\n    name: \"Abhor the Witch\",\n    type: \"End Game\",\n    category: SECONDARY_CATEGORIES.WARPCRAFT,\n    description:\n      \"You cannot select this secondary objective if your army includes any PSYKER units. Score 5 victory points at the end of the battle for each enemy PSYKER CHARACTER unit that is destroyed, and 3 victory points for every other enemy PSYKER unit that is destroyed.\",\n    points: [0, 3, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15],\n  },\n];\n\nexport default SECONDARIES;\n","import React from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { useGameContext } from \"../contexts/GameContext\";\nimport { SECONDARY_CATEGORIES } from \"../data/common\";\nimport MISSIONS from \"../data/missions\";\nimport SECONDARIES from \"../data/secondaries\";\n\nconst Secondaries = ({ idx, next }) => {\n  const { gameState, setGameState } = useGameContext();\n\n  const player = gameState.players[idx];\n\n  const selectedCategories = player.secondaries?.map((s) => s.category) ?? [];\n  // const availableCategories = Object.values(SECONDARY_CATEGORIES).filter(\n  //   (s) => !selectedCategories.includes(s)\n  // );\n  const allSecondaries = [\n    ...SECONDARIES,\n    ...MISSIONS.find((m) => m.name === gameState.mission).secondary_objectives,\n  ];\n  const availableSecondaries = Object.values(SECONDARY_CATEGORIES)\n    .map((c) => allSecondaries.filter((s) => s.category === c))\n    .filter((group) => group.length > 0);\n\n  const playerName = player.name || `Player ${idx + 1}`;\n\n  const playerSelected = (value) =>\n    player.secondaries?.some((s) => s.name === value.name);\n\n  const selectSecondary = (value) => {\n    if (selectedCategories.includes(value.category)) {\n      return;\n    }\n\n    if (player.secondaries?.length === 3) {\n      return;\n    }\n\n    setGameState((prev) => {\n      const updated = { ...prev };\n      updated.players[idx] = {\n        ...player,\n        secondaries: [...(updated.players[idx].secondaries ?? []), value],\n      };\n      return updated;\n    });\n  };\n\n  const unselectSecondary = (value) => {\n    setGameState((prev) => {\n      const updated = { ...prev };\n      updated.players[idx] = {\n        ...player,\n        secondaries: updated.players[idx].secondaries.filter(\n          (s) => s.name !== value.name\n        ),\n      };\n      return updated;\n    });\n  };\n\n  const toggleSecondary = (value) => {\n    if (playerSelected(value)) {\n      unselectSecondary(value);\n    } else {\n      selectSecondary(value);\n    }\n  };\n\n  if (player.secondaries?.length === 3) {\n    return (\n      <Box display=\"flex\" flexDirection=\"column\">\n        {player.secondaries.map((s) => (\n          <Box key={s.category}>\n            <h2>{s.category}</h2>\n            <Box\n              onClick={() => toggleSecondary(s)}\n              style={{ background: playerSelected(s) ? \"red\" : \"default\" }}\n            >\n              <h3>{s.name}</h3>\n              <Box>{s.description}</Box>\n            </Box>\n          </Box>\n        ))}\n        <Button variant=\"contained\" color=\"primary\" onClick={next}>\n          Continue\n        </Button>\n      </Box>\n    );\n  }\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\">\n      <h1>{`Secondaries - ${playerName}`}</h1>\n      {availableSecondaries.map((group) => [\n        <h2\n          key={`${group[0].category}-${selectedCategories.includes(\n            group[0].category\n          )}`}\n          style={{\n            color: selectedCategories.includes(group[0].category)\n              ? \"#ccc\"\n              : \"default\",\n          }}\n        >\n          {group[0].category}\n        </h2>,\n        ...group.map((s) => (\n          <Box\n            key={`${s.name}-${playerSelected(s)}-${selectedCategories.includes(\n              group[0].category\n            )}`}\n            onClick={() => toggleSecondary(s)}\n            style={{\n              cursor:\n                selectedCategories.includes(group[0].category) &&\n                !playerSelected(s)\n                  ? \"inherit\"\n                  : \"pointer\",\n              background: playerSelected(s) ? \"red\" : \"default\",\n              color:\n                selectedCategories.includes(group[0].category) &&\n                !playerSelected(s)\n                  ? \"#ccc\"\n                  : \"default\",\n            }}\n          >\n            <h3>{s.name}</h3>\n            <Typography variant=\"subtitle1\">{s.type}</Typography>\n            <Box>{s.description}</Box>\n          </Box>\n        )),\n      ])}\n    </Box>\n  );\n};\n\nexport default Secondaries;\n","import React, { useEffect } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Container from \"@material-ui/core/Container\";\nimport {\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n  useRouteMatch,\n} from \"react-router-dom\";\n\nimport { useGameContext } from \"./contexts/GameContext\";\nimport ChooseMission from \"./components/ChooseMission\";\nimport GameSetup from \"./components/GameSetup\";\nimport MakeWar from \"./components/MakeWar\";\nimport PlayerSetup from \"./components/PlayerSetup\";\nimport Secondaries from \"./components/Secondaries\";\n\n// STEPS\n// Name Players\n// Choose Game Type\n// Choose Secondaries\n// Setup Game Board\n// Play Game!\n\n// GAME\n// Size (Enum)\n// Pts\n// Type (Matched, Crusade, Open)\n// Current Round\n// Current Phase?\n// Current Player?\n\n// === PLAYER ===\n// Name\n// Faction (s?)\n// CPs\n// Won First Turn Roll\n// Took First Turn\n// Primary Objectives points (array, per round?)\n// Secondary Objectives (array of 3)\n// - Name\n// - Points\n// Fully Painted\n\n// NICE TO HAVE\n// Default Player\n\nconst GameApp = () => {\n  const match = useRouteMatch();\n  const location = useLocation();\n  const history = useHistory();\n  const { gameState, setGameState, resetGameState } = useGameContext();\n\n  const steps = [\n    \"player1\",\n    \"player2\",\n    \"choose-mission\",\n    \"secondaries_player1\",\n    \"secondaries_player2\",\n    \"game-setup\",\n    \"make-war\",\n  ];\n\n  useEffect(() => {\n    const step = gameState?.step ?? 0;\n    history.replace(`${match.path}/${steps[step]}`);\n  }, []);\n\n  useEffect(() => {\n    console.log(location.pathname);\n    let step = steps.indexOf(location.pathname.replace(\"/game/\", \"\"));\n    step = step === -1 ? 0 : step;\n    if (gameState.step !== step) {\n      setGameState((prev) => ({ ...prev, step }));\n    }\n  }, [match, setGameState, steps]);\n\n  const next = () => {\n    const step = gameState.step ?? 0;\n    history.push(`/game/${steps[step + 1]}`);\n  };\n\n  const reset = () => {\n    resetGameState();\n    history.push(`/game/${steps[0]}`);\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box mb={8}>\n        <Switch style={{ flex: 1 }}>\n          <Route key=\"player1\" path={`${match.path}/player1`}>\n            <PlayerSetup idx={0} next={next} />\n          </Route>\n          <Route key=\"player2\" path={`${match.path}/player2`}>\n            <PlayerSetup idx={1} next={next} />\n          </Route>\n          <Route key=\"choose-mission\" path={`${match.path}/choose-mission`}>\n            <ChooseMission next={next} />\n          </Route>\n          <Route\n            key=\"secondaries_player1\"\n            path={`${match.path}/secondaries_player1`}\n          >\n            <Secondaries idx={0} next={next} />\n          </Route>\n          <Route\n            key=\"secondaries_player2\"\n            path={`${match.path}/secondaries_player2`}\n          >\n            <Secondaries idx={1} next={next} />\n          </Route>\n          <Route key=\"game-setup\" path={`${match.path}/game-setup`}>\n            <GameSetup next={next} />\n          </Route>\n          <Route key=\"make-war\" path={`${match.path}/make-war`}>\n            <MakeWar />\n          </Route>\n        </Switch>\n      </Box>\n      <Box\n        position=\"fixed\"\n        bottom=\"0\"\n        left=\"0\"\n        right=\"0\"\n        display=\"flex\"\n        justifyContent=\"center\"\n      >\n        <Button variant=\"contained\" color=\"secondary\" onClick={reset}>\n          RESET\n        </Button>\n      </Box>\n    </Container>\n  );\n};\n\nexport default GameApp;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nimport Container from \"@material-ui/core/Container\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\n\nimport { GameContextProvider } from \"./apps/GameApp/contexts/GameContext\";\n\nimport RulesApp from \"./apps/RulesApp\";\nimport GameApp from \"./apps/GameApp\";\n\nexport default function App() {\n  return (\n    <Router basename={process.env.REACT_APP_BASEPATH}>\n      {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n      <Switch>\n        <Route path=\"/game\">\n          <GameContextProvider>\n            <GameApp />\n          </GameContextProvider>\n        </Route>\n        <Route path=\"/rules\">\n          <RulesApp />\n        </Route>\n        <Route path=\"/\">\n          <Container maxWidth=\"sm\">\n            <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n              <Box m={4}>\n                <Link to=\"/game\">\n                  <Button variant=\"contained\" color=\"primary\">\n                    Game\n                  </Button>\n                </Link>\n              </Box>\n              <Box m={4}>\n                <Link to=\"/rules\">\n                  <Button variant=\"contained\" color=\"primary\">\n                    Rules\n                  </Button>\n                </Link>\n              </Box>\n            </Box>\n          </Container>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}